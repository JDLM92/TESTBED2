<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Immersive Experience Playground</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <header class="page-header">
      <h1>Immersive Experience Playground</h1>
      <p>
        Launch a 360° scene and click the VR button to step inside using a Meta
        Quest 3/3S or a mobile browser. Aim with your controllers or pointer to
        press the buttons floating in front of you.
      </p>
    </header>

    <a-scene
      background="color: #000"
      renderer="antialias: true"
      webxr="optionalFeatures: local-floor, bounded-floor"
      vr-mode-ui="enabled: true"
    >
      <a-assets timeout="30000">
        <img
          id="asset-mexico-present"
          src="assets/mexico-city/present/Mexico City Present.png"
        />
        <img
          id="asset-mexico-future"
          src="assets/mexico-city/future/Mexico City Future.png"
        />
      </a-assets>

      <a-entity id="rig" position="0 0 0">
        <a-entity
          id="player"
          camera
          look-controls="magicWindowTrackingEnabled: true"
          wasd-controls="enabled: false"
          position="0 1.6 0"
        >
          <a-entity
            id="mouseCursor"
            cursor="rayOrigin: mouse"
            raycaster="objects: .clickable"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.008"
            material="color: #fff; shader: flat; opacity: 0.9"
          ></a-entity>
        </a-entity>

        <a-entity
          laser-controls="hand: left"
          raycaster="objects: .clickable"
        ></a-entity>
        <a-entity
          laser-controls="hand: right"
          raycaster="objects: .clickable"
        ></a-entity>
      </a-entity>

      <a-sky id="photoSphere" radius="100" visible="false"></a-sky>

      <a-entity id="homeMenu" position="0 1.5 -2">
        <a-plane
          width="2.1"
          height="1.4"
          color="#091017"
          opacity="0.9"
          material="shader: flat; side: double"
          class="menu-surface"
        ></a-plane>
        <a-text
          value="InflectionPoints: Mobility"
          position="0 0.38 0.01"
          width="1.9"
          align="center"
          color="#ffffff"
          shader="msdf"
          font="https://cdn.aframe.io/fonts/Roboto-msdf.json"
        ></a-text>
        <a-text
          value="Select a scenario to explore future mobility."
          position="0 0.12 0.01"
          width="1.8"
          align="center"
          color="#ffffff"
          opacity="0.8"
          shader="msdf"
          font="https://cdn.aframe.io/fonts/Roboto-msdf.json"
        ></a-text>
        <a-entity id="scenarioButtonContainer" position="0 -0.3 0.01"></a-entity>
      </a-entity>

      <a-entity id="scenarioControls" position="0 0.32 -1.6" visible="false">
        <a-entity id="timeframeToggle" position="0 0 0"></a-entity>
        <a-entity
          id="homeButton"
          class="clickable"
          geometry="primitive: circle; radius: 0.1"
          material="shader: flat; color: #ffffff; opacity: 0.95"
          position="1.1 0 0"
          render-order="3"
        >
          <a-text
            value="⌂"
            align="center"
            width="0.4"
            color="#091017"
            shader="msdf"
            font="https://cdn.aframe.io/fonts/Roboto-msdf.json"
            position="0 0 0.01"
          ></a-text>
        </a-entity>
      </a-entity>

      <a-entity id="infoLabel" position="0 1.05 -1.55" render-order="2">
        <a-text
          id="infoText"
          value=""
          width="2.4"
          align="center"
          color="#f4f4f4"
          shader="msdf"
          font="https://cdn.aframe.io/fonts/Roboto-msdf.json"
          wrap-count="48"
        ></a-text>
      </a-entity>
    </a-scene>

    <script src="app.js"></script>
  </body>
</html>
